<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MTRIC | Calculadora de Pre√ßo de Infoproduto 2026</title>
    <meta name="description" content="Calcule o pre√ßo perfeito para seu curso online, e-book ou mentoria. Ferramenta 100% gratuita com estrat√©gia de precifica√ß√£o psicol√≥gica.">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script type="text/babel">
        const { useState } = React;

        function CalculadoraPrecoInfoproduto() {
          const [custoProducao, setCustoProducao] = useState(500);
          const [horasTrabalhadas, setHorasTrabalhadas] = useState(40);
          const [valorHora, setValorHora] = useState(50);
          const [margemLucro, setMargemLucro] = useState(70);
          const [plataforma, setPlataforma] = useState('kiwify');
          const [loading, setLoading] = useState(false);

          const taxasPlataforma = {
            kiwify: { taxa: 4.99, nome: 'Kiwify' },
            hotmart: { taxa: 9.9, nome: 'Hotmart' },
            eduzz: { taxa: 8.49, nome: 'Eduzz' },
            monetizze: { taxa: 9.9, nome: 'Monetizze' }
          };

          const calcularPreco = () => {
            const custoTotal = custoProducao + (horasTrabalhadas * valorHora);
            const taxaPlat = taxasPlataforma[plataforma].taxa;
            const precoBase = custoTotal / (1 - (margemLucro / 100));
            const precoFinal = precoBase / (1 - (taxaPlat / 100));
            return Math.round(precoFinal);
          };

          const precoCalculado = calcularPreco();
          const precoPsicologico97 = Math.floor(precoCalculado / 10) * 10 - 0.03;
          const precoPsicologico90 = Math.floor(precoCalculado / 10) * 10 - 0.10;
          
          const lucroLiquido = precoCalculado - (custoProducao + (horasTrabalhadas * valorHora)) - (precoCalculado * taxasPlataforma[plataforma].taxa / 100);
          const margemReal = (lucroLiquido / precoCalculado) * 100;

          const sugerirTiers = () => {
            const basico = Math.round(precoCalculado * 0.6);
            const premium = precoCalculado;
            const vip = Math.round(precoCalculado * 1.8);
            
            return {
              basico: Math.floor(basico / 10) * 10 - 0.03,
              premium: Math.floor(premium / 10) * 10 - 0.03,
              vip: Math.floor(vip / 10) * 10 - 0.03
            };
          };

          const tiers = sugerirTiers();

          // FUN√á√ÉO DE ALAVANCAGEM EXTREMA - CONEX√ÉO COM O C√âREBRO IA
          const enviarDadosParaIA = async () => {
            const webhookUrl = "SUA_URL_DO_MAKE_AQUI"; // <--- INSIRA SEU LINK DO MAKE AQUI
            
            if(webhookUrl === "SUA_URL_DO_MAKE_AQUI") {
                alert("Erro T√©cnico: O link do Webhook n√£o foi configurado.");
                return;
            }

            setLoading(true);

            const payload = {
                data: new Date().toISOString(),
                projeto: "MTRIC - Calculadora de Pre√ßo",
                autor: "Sergio Farias",
                lead: {
                    custo_producao: custoProducao,
                    horas: horasTrabalhadas,
                    valor_hora: valorHora,
                    margem_alvo: margemLucro,
                    plataforma_escolhida: plataforma
                },
                resultados: {
                    preco_sugerido: precoCalculado,
                    lucro_liquido: lucroLiquido.toFixed(2),
                    margem_real: margemReal.toFixed(2)
                }
            };

            try {
              const response = await fetch(webhookUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
              });
              
              if(response.ok) {
                  alert('üöÄ Diagn√≥stico Processado! Em instantes voc√™ receber√° a an√°lise estrat√©gica no seu WhatsApp.');
              }
            } catch (error) {
              console.error('Falha na sinapse:', error);
              alert('Erro ao conectar com a IA. Verifique sua conex√£o.');
            } finally {
              setLoading(false);
            }
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
              <div className="max-w-6xl mx-auto">
                
                <div className="text-center mb-8 pt-8">
                  <div className="flex items-center justify-center gap-2 mb-4">
                    <span className="text-6xl">üßÆ</span>
                    <h1 className="text-4xl font-bold text-gray-800">
                      MTRIC: Calculadora de Pre√ßo
                    </h1>
                  </div>
                  <p className="text-gray-600 text-lg">
                    Engenharia financeira para precifica√ß√£o de infoprodutos em 2026
                  </p>
                </div>

                <div className="grid md:grid-cols-2 gap-6">
                  
                  {/* COLUNA DE INPUTS */}
                  <div className="bg-white rounded-2xl shadow-xl p-6">
                    <h2 className="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                      <span className="text-3xl">üí∞</span>
                      Vari√°veis de Custo
                    </h2>

                    <div className="space-y-6">
                      <div>
                        <label className="block text-sm font-semibold text-gray-700 mb-2">üíµ Custo de Produ√ß√£o (R$)</label>
                        <input type="number" value={custoProducao} onChange={(e) => setCustoProducao(Number(e.target.value))} className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none text-lg" />
                      </div>

                      <div>
                        <label className="block text-sm font-semibold text-gray-700 mb-2">‚è∞ Horas Trabalhadas</label>
                        <input type="number" value={horasTrabalhadas} onChange={(e) => setHorasTrabalhadas(Number(e.target.value))} className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none text-lg" />
                      </div>

                      <div>
                        <label className="block text-sm font-semibold text-gray-700 mb-2">üíµ Valor da sua Hora (R$)</label>
                        <input type="number" value={valorHora} onChange={(e) => setValorHora(Number(e.target.value))} className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none text-lg" />
                      </div>

                      <div>
                        <label className="block text-sm font-semibold text-gray-700 mb-2">üìà Margem de Lucro Desejada ({margemLucro}%)</label>
                        <input type="range" min="30" max="90" value={margemLucro} onChange={(e) => setMargemLucro(Number(e.target.value))} className="w-full" />
                      </div>

                      <div>
                        <label className="block text-sm font-semibold text-gray-700 mb-2">üè™ Plataforma</label>
                        <select value={plataforma} onChange={(e) => setPlataforma(e.target.value)} className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none text-lg">
                          <option value="kiwify">Kiwify (4.99%)</option>
                          <option value="hotmart">Hotmart (9.9%)</option>
                          <option value="eduzz">Eduzz (8.49%)</option>
                          <option value="monetizze">Monetizze (9.9%)</option>
                        </select>
                      </div>
                    </div>
                  </div>

                  {/* COLUNA DE RESULTADOS */}
                  <div className="space-y-6">
                    <div className="bg-gradient-to-br from-green-500 to-green-600 rounded-2xl shadow-xl p-6 text-white text-center">
                      <h2 className="text-xl font-bold mb-4">üéØ Pre√ßo Recomendado</h2>
                      <p className="text-6xl font-bold mb-6">R$ {precoCalculado.toFixed(2)}</p>
                      
                      <div className="grid grid-cols-2 gap-4 text-sm">
                        <div className="bg-white/20 rounded-lg p-3">
                          <p className="opacity-80">Lucro L√≠quido:</p>
                          <p className="text-xl font-bold">R$ {lucroLiquido.toFixed(2)}</p>
                        </div>
                        <div className="bg-white/20 rounded-lg p-3">
                          <p className="opacity-80">Margem Real:</p>
                          <p className="text-xl font-bold">{margemReal.toFixed(1)}%</p>
                        </div>
                      </div>
                    </div>

                    <div className="bg-white rounded-2xl shadow-xl p-6">
                      <h2 className="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">‚ö° Ofertas Estrat√©gicas</h2>
                      <div className="space-y-3">
                        <div className="flex justify-between border-b pb-2"><span>ü•â B√°sica:</span><strong>R$ {tiers.basico.toFixed(2)}</strong></div>
                        <div className="flex justify-between border-b pb-2 text-indigo-600 font-bold"><span>‚≠ê Premium:</span><strong>R$ {tiers.premium.toFixed(2)}</strong></div>
                        <div className="flex justify-between"><span>üíé VIP:</span><strong>R$ {tiers.vip.toFixed(2)}</strong></div>
                      </div>
                    </div>

                    {/* BOT√ÉO DE CONVERS√ÉO - O GATILHO DO BILION√ÅRIO */}
                    <div className="bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl shadow-xl p-8 text-white text-center">
                      <h3 className="text-xl font-bold mb-4">Receber Auditoria Detalhada</h3>
                      <p className="mb-6 opacity-90 text-sm">Nossa IA analisar√° seus custos e enviar√° um relat√≥rio de viabilidade para o seu WhatsApp em segundos.</p>
                      
                      <button 
                        onClick={enviarDadosParaIA}
                        disabled={loading}
                        className={`w-full bg-white text-indigo-700 font-extrabold py-4 px-8 rounded-full shadow-lg transition-all transform hover:scale-105 flex items-center justify-center gap-3 cursor-pointer ${loading ? 'opacity-50' : ''}`}
                      >
                        {loading ? 'PROCESSANDO...' : 'üöÄ GERAR DIAGN√ìSTICO IA'}
                      </button>
                    </div>

                  </div>
                </div>

                <div className="text-center mt-12 pb-8 text-gray-500 text-sm">
                  <p>MTRIC Ecosystem | Desenvolvido por <strong>Sergio Farias</strong></p>
                </div>
              </div>
            </div>
          );
        }

        ReactDOM.render(<CalculadoraPrecoInfoproduto />, document.getElementById('root'));
    </script>
</body>
</html>
